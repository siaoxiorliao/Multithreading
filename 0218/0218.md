# 0218
开始学习多线程

# 线程
* 一个进程最少有一条线程
* 所有任务在线程里执行

串行 : 线程中任务是串行的,一个一个按顺序执行的.同一时间内,一个线程只能执行一个任务
并行 :  一个进程有很多线程,线程间同时执行不同任务即是并行.

## 多线程原理
* 同一时间 一个cpu只能处理一条线程,只有一条线程在工作

* 多线程并发(同时执行),其实是cpu在线程间的切换.

* 如果线程调度很快,就造成了并发执行的假象
* cpu在 很多的 线程间调度会消耗cpu资源

## 多线程缺点 
* 创建线程需要成本: 1. 内核数据 1kb 2. 栈空间(子线程512kb 主线程1MB,也可用setStackSize设置,必须是4K的倍数,最小16K) 3. 创建线程需花费90毫秒的创建时间.
* 线程越多,调度上开销就越大.
* 数据共享的安全的问题
* 一般3-5条,如开多了会降低程序性能

## 多线程在iOS的应用
* 一个iOS 程序运行后默认开启主线程(UI线程)
* 不要将耗时操作放入主线程,严重影响UI的体验
* 将影响用户交互的操作放入子线程

# 多线程实现方案

![](/0218/images/WX20170909-161655.png)

 
